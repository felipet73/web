@model Tipo_Datos.Models.Entidades.VentasModel

@{
    ViewData["Title"] = "Create";
    Layout = "~/Views/Shared/_Layout.cshtml";
}


<div class="form-container">
    <h2>Registro de Venta</h2>
    <form id="ventaForm">
        <!-- Selección de cliente -->
        <div class="form-group">
            <div class="form-group">
                <label asp-for="ClientesModelId" class="control-label"></label>
                <select asp-for="ClientesModelId" class="form-control" asp-items="ViewBag.ClientesModelId"></select>
            </div>
        </div>

        <!-- Datos de la venta -->
        <div class="form-group">
            <label for="fechaVenta">Fecha de Venta:</label>
            <input type="date" id="fechaVenta" name="FechaVenta" required>
        </div>

        <div class="form-group">
            <label for="metodoPago">Método de Pago:</label>
            <select id="metodoPago" name="Metodo_Pago" required>
                <option value="">Seleccione</option>
                <option value="Efectivo">Efectivo</option>
                <option value="Tarjeta">Tarjeta</option>
                <option value="Transferencia">Transferencia</option>
            </select>
        </div>

        <!-- Productos vendidos -->
        <h3>Productos Vendidos</h3>
        <table id="productosTable">
            <thead>
                <tr>
                    <th>Producto</th>
                    <th>Precio</th>
                    <th>Cantidad</th>
                    <th>Monto</th>
                    <th>Acción</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><input type="text" name="Nombre[]" placeholder="Nombre del producto"></td>
                    <td><input type="number" name="Precio[]" step="0.01" min="0"></td>
                    <td><input type="number" name="Cantidad[]" min="1"></td>
                    <td><input type="number" name="Monto[]" step="0.01" min="0" readonly></td>
                    <td><button type="button" class="btn-remove">X</button></td>
                </tr>
            </tbody>
        </table>
        <button type="button" id="addProduct" class="btn-add">+ Agregar Producto</button>

        <!-- Botón de enviar -->
        <div class="form-group">
            <button type="submit" class="btn-submit">Guardar Venta</button>
        </div>
    </form>
</div>


<div>
    <a asp-action="Index">Back to List</a>
</div>

@section Scripts {
    @{await Html.RenderPartialAsync("_ValidationScriptsPartial");}
}
